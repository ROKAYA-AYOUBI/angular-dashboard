{"ast":null,"code":"/*\r\n Selectr 2.4.13\r\n http://mobius.ovh/docs/selectr\r\n\r\n Released under the MIT license\r\n*/\n(function (g, k) {\n  \"function\" === typeof define && define.amd ? define([], k) : \"object\" === typeof exports ? module.exports = k(\"Selectr\") : g.Selectr = k(\"Selectr\");\n})(this, function (g) {\n  function k(a, c) {\n    return a.hasOwnProperty(c) && (!0 === a[c] || a[c].length);\n  }\n\n  function n(a, c, e) {\n    a.parentNode ? a.parentNode.parentNode || c.appendChild(a.parentNode) : c.appendChild(a);\n    b.removeClass(a, \"excluded\");\n    e || (a.innerHTML = a.textContent);\n  }\n\n  var l = function l() {};\n\n  l.prototype = {\n    on: function on(a, c) {\n      this._events = this._events || {};\n      this._events[a] = this._events[a] || [];\n\n      this._events[a].push(c);\n    },\n    off: function off(a, c) {\n      this._events = this._events || {};\n      !1 !== a in this._events && this._events[a].splice(this._events[a].indexOf(c), 1);\n    },\n    emit: function emit(a) {\n      this._events = this._events || {};\n      if (!1 !== a in this._events) for (var c = 0; c < this._events[a].length; c++) {\n        this._events[a][c].apply(this, Array.prototype.slice.call(arguments, 1));\n      }\n    }\n  };\n\n  l.mixin = function (a) {\n    for (var c = [\"on\", \"off\", \"emit\"], b = 0; b < c.length; b++) {\n      \"function\" === typeof a ? a.prototype[c[b]] = l.prototype[c[b]] : a[c[b]] = l.prototype[c[b]];\n    }\n\n    return a;\n  };\n\n  var b = {\n    extend: function extend(a, c) {\n      for (var e in c) {\n        if (c.hasOwnProperty(e)) {\n          var d = c[e];\n          d && \"[object Object]\" === Object.prototype.toString.call(d) ? (a[e] = a[e] || {}, b.extend(a[e], d)) : a[e] = d;\n        }\n      }\n\n      return a;\n    },\n    each: function each(a, c, b) {\n      if (\"[object Object]\" === Object.prototype.toString.call(a)) for (var d in a) {\n        Object.prototype.hasOwnProperty.call(a, d) && c.call(b, d, a[d], a);\n      } else {\n        d = 0;\n\n        for (var e = a.length; d < e; d++) {\n          c.call(b, d, a[d], a);\n        }\n      }\n    },\n    createElement: function createElement(a, c) {\n      var b = document,\n          d = b.createElement(a);\n      if (c && \"[object Object]\" === Object.prototype.toString.call(c)) for (var f in c) {\n        if (f in d) d[f] = c[f];else if (\"html\" === f) d.innerHTML = c[f];else if (\"text\" === f) {\n          var h = b.createTextNode(c[f]);\n          d.appendChild(h);\n        } else d.setAttribute(f, c[f]);\n      }\n      return d;\n    },\n    hasClass: function hasClass(a, b) {\n      if (a) return a.classList ? a.classList.contains(b) : !!a.className && !!a.className.match(new RegExp(\"(\\\\s|^)\" + b + \"(\\\\s|$)\"));\n    },\n    addClass: function addClass(a, c) {\n      b.hasClass(a, c) || (a.classList ? a.classList.add(c) : a.className = a.className.trim() + \" \" + c);\n    },\n    removeClass: function removeClass(a, c) {\n      b.hasClass(a, c) && (a.classList ? a.classList.remove(c) : a.className = a.className.replace(new RegExp(\"(^|\\\\s)\" + c.split(\" \").join(\"|\") + \"(\\\\s|$)\", \"gi\"), \" \"));\n    },\n    closest: function closest(a, c) {\n      return a && a !== document.body && (c(a) ? a : b.closest(a.parentNode, c));\n    },\n    isInt: function isInt(a) {\n      return \"number\" === typeof a && isFinite(a) && Math.floor(a) === a;\n    },\n    debounce: function debounce(a, b, e) {\n      var d;\n      return function () {\n        var c = this,\n            h = arguments,\n            g = e && !d;\n        clearTimeout(d);\n        d = setTimeout(function () {\n          d = null;\n          e || a.apply(c, h);\n        }, b);\n        g && a.apply(c, h);\n      };\n    },\n    rect: function rect(a, b) {\n      var c = window,\n          d = a.getBoundingClientRect(),\n          f = b ? c.pageXOffset : 0;\n      c = b ? c.pageYOffset : 0;\n      return {\n        bottom: d.bottom + c,\n        height: d.height,\n        left: d.left + f,\n        right: d.right + f,\n        top: d.top + c,\n        width: d.width\n      };\n    },\n    includes: function includes(a, b) {\n      return -1 < a.indexOf(b);\n    },\n    startsWith: function startsWith(a, b) {\n      return a.substr(0, b.length) === b;\n    },\n    truncate: function truncate(a) {\n      for (; a.firstChild;) {\n        a.removeChild(a.firstChild);\n      }\n    }\n  },\n      p = function p() {\n    if (this.items.length) {\n      var a = document.createDocumentFragment();\n\n      if (this.config.pagination) {\n        var c = this.pages.slice(0, this.pageIndex);\n        b.each(c, function (c, d) {\n          b.each(d, function (d, b) {\n            n(b, a, this.customOption);\n          }, this);\n        }, this);\n      } else b.each(this.items, function (b, d) {\n        n(d, a, this.customOption);\n      }, this);\n\n      a.childElementCount && (b.removeClass(this.items[this.navIndex], \"active\"), this.navIndex = (a.querySelector(\".selectr-option.selected\") || a.querySelector(\".selectr-option\")).idx, b.addClass(this.items[this.navIndex], \"active\"));\n      this.tree.appendChild(a);\n    }\n  },\n      t = function t(a) {\n    this.container.contains(a.target) || !this.opened && !b.hasClass(this.container, \"notice\") || this.close();\n  },\n      m = function m(a, c) {\n    var e = this.customOption ? this.config.renderOption(c || a) : a.textContent;\n    e = b.createElement(\"li\", {\n      \"class\": \"selectr-option\",\n      html: e,\n      role: \"treeitem\",\n      \"aria-selected\": !1\n    });\n    e.idx = a.idx;\n    this.items.push(e);\n    a.defaultSelected && this.defaultSelected.push(a.idx);\n    a.disabled && (e.disabled = !0, b.addClass(e, \"disabled\"));\n    return e;\n  },\n      u = function u() {\n    this.requiresPagination = this.config.pagination && 0 < this.config.pagination;\n    k(this.config, \"width\") && (b.isInt(this.config.width) ? this.width = this.config.width + \"px\" : \"auto\" === this.config.width ? this.width = \"100%\" : b.includes(this.config.width, \"%\") && (this.width = this.config.width));\n    this.container = b.createElement(\"div\", {\n      \"class\": \"selectr-container\"\n    });\n    this.config.customClass && b.addClass(this.container, this.config.customClass);\n    this.mobileDevice ? b.addClass(this.container, \"selectr-mobile\") : b.addClass(this.container, \"selectr-desktop\");\n    this.el.tabIndex = -1;\n    this.config.nativeDropdown || this.mobileDevice ? b.addClass(this.el, \"selectr-visible\") : b.addClass(this.el, \"selectr-hidden\");\n    this.selected = b.createElement(\"div\", {\n      \"class\": \"selectr-selected\",\n      disabled: this.disabled,\n      tabIndex: 0,\n      \"aria-expanded\": !1\n    });\n    this.label = b.createElement(this.el.multiple ? \"ul\" : \"span\", {\n      \"class\": \"selectr-label\"\n    });\n    var a = b.createElement(\"div\", {\n      \"class\": \"selectr-options-container\"\n    });\n    this.tree = b.createElement(\"ul\", {\n      \"class\": \"selectr-options\",\n      role: \"tree\",\n      \"aria-hidden\": !0,\n      \"aria-expanded\": !1\n    });\n    this.notice = b.createElement(\"div\", {\n      \"class\": \"selectr-notice\"\n    });\n    this.el.setAttribute(\"aria-hidden\", !0);\n    this.disabled && (this.el.disabled = !0);\n    this.el.multiple && (b.addClass(this.label, \"selectr-tags\"), b.addClass(this.container, \"multiple\"), this.tags = [], this.selectedValues = this.getSelectedProperties(\"value\"), this.selectedIndexes = this.getSelectedProperties(\"idx\"));\n    this.selected.appendChild(this.label);\n    this.config.clearable && (this.selectClear = b.createElement(\"button\", {\n      \"class\": \"selectr-clear\",\n      type: \"button\"\n    }), this.container.appendChild(this.selectClear), b.addClass(this.container, \"clearable\"));\n\n    if (this.config.taggable) {\n      var c = b.createElement(\"li\", {\n        \"class\": \"input-tag\"\n      });\n      this.input = b.createElement(\"input\", {\n        \"class\": \"selectr-tag-input\",\n        placeholder: this.config.tagPlaceholder,\n        tagIndex: 0,\n        autocomplete: \"off\",\n        autocorrect: \"off\",\n        autocapitalize: \"off\",\n        spellcheck: \"false\",\n        role: \"textbox\",\n        type: \"search\"\n      });\n      c.appendChild(this.input);\n      this.label.appendChild(c);\n      b.addClass(this.container, \"taggable\");\n      this.tagSeperators = [\",\"];\n      this.config.tagSeperators && (this.tagSeperators = this.tagSeperators.concat(this.config.tagSeperators));\n    }\n\n    this.config.searchable && (this.input = b.createElement(\"input\", {\n      \"class\": \"selectr-input\",\n      tagIndex: -1,\n      autocomplete: \"off\",\n      autocorrect: \"off\",\n      autocapitalize: \"off\",\n      spellcheck: \"false\",\n      role: \"textbox\",\n      type: \"search\"\n    }), this.inputClear = b.createElement(\"button\", {\n      \"class\": \"selectr-input-clear\",\n      type: \"button\"\n    }), this.inputContainer = b.createElement(\"div\", {\n      \"class\": \"selectr-input-container\"\n    }), this.inputContainer.appendChild(this.input), this.inputContainer.appendChild(this.inputClear), a.appendChild(this.inputContainer));\n    a.appendChild(this.notice);\n    a.appendChild(this.tree);\n    this.items = [];\n    this.options = [];\n    this.el.options.length && (this.options = [].slice.call(this.el.options));\n    var e = !1,\n        d = 0;\n    this.el.children.length && b.each(this.el.children, function (a, c) {\n      \"OPTGROUP\" === c.nodeName ? (e = b.createElement(\"ul\", {\n        \"class\": \"selectr-optgroup\",\n        role: \"group\",\n        html: \"<li class='selectr-optgroup--label'>\" + c.label + \"</li>\"\n      }), b.each(c.children, function (a, b) {\n        b.idx = d;\n        e.appendChild(m.call(this, b, e));\n        d++;\n      }, this)) : (c.idx = d, m.call(this, c), d++);\n    }, this);\n\n    if (this.config.data && Array.isArray(this.config.data)) {\n      this.data = [];\n      var f = !1,\n          h;\n      e = !1;\n      d = 0;\n      b.each(this.config.data, function (a, c) {\n        k(c, \"children\") ? (f = b.createElement(\"optgroup\", {\n          label: c.text\n        }), e = b.createElement(\"ul\", {\n          \"class\": \"selectr-optgroup\",\n          role: \"group\",\n          html: \"<li class='selectr-optgroup--label'>\" + c.text + \"</li>\"\n        }), b.each(c.children, function (a, b) {\n          h = new Option(b.text, b.value, !1, b.hasOwnProperty(\"selected\") && !0 === b.selected);\n          h.disabled = k(b, \"disabled\");\n          this.options.push(h);\n          f.appendChild(h);\n          h.idx = d;\n          e.appendChild(m.call(this, h, b));\n          this.data[d] = b;\n          d++;\n        }, this), this.el.appendChild(f)) : (h = new Option(c.text, c.value, !1, c.hasOwnProperty(\"selected\") && !0 === c.selected), h.disabled = k(c, \"disabled\"), this.options.push(h), h.idx = d, m.call(this, h, c), this.data[d] = c, d++);\n      }, this);\n    }\n\n    this.setSelected(!0);\n\n    for (var g = this.navIndex = 0; g < this.items.length; g++) {\n      if (c = this.items[g], !b.hasClass(c, \"disabled\")) {\n        b.addClass(c, \"active\");\n        this.navIndex = g;\n        break;\n      }\n    }\n\n    this.requiresPagination && (this.pageIndex = 1, this.paginate());\n    this.container.appendChild(this.selected);\n    this.container.appendChild(a);\n    this.placeEl = b.createElement(\"div\", {\n      \"class\": \"selectr-placeholder\"\n    });\n    this.setPlaceholder();\n    this.selected.appendChild(this.placeEl);\n    this.disabled && this.disable();\n    this.el.parentNode.insertBefore(this.container, this.el);\n    this.container.appendChild(this.el);\n  },\n      v = function v(a) {\n    a = a || window.event;\n\n    if (this.items.length && this.opened && b.includes([13, 38, 40], a.which)) {\n      a.preventDefault();\n      if (13 === a.which) return this.noResults || this.config.taggable && 0 < this.input.value.length ? !1 : this.change(this.navIndex);\n      var c = this.items[this.navIndex],\n          e = this.navIndex;\n\n      switch (a.which) {\n        case 38:\n          var d = 0;\n          0 < this.navIndex && this.navIndex--;\n          break;\n\n        case 40:\n          d = 1, this.navIndex < this.items.length - 1 && this.navIndex++;\n      }\n\n      for (this.navigating = !0; b.hasClass(this.items[this.navIndex], \"disabled\") || b.hasClass(this.items[this.navIndex], \"excluded\");) {\n        if (0 < this.navIndex && this.navIndex < this.items.length - 1) d ? this.navIndex++ : this.navIndex--;else {\n          this.navIndex = e;\n          break;\n        }\n        if (this.searching) if (this.navIndex > this.tree.lastElementChild.idx) {\n          this.navIndex = this.tree.lastElementChild.idx;\n          break;\n        } else if (this.navIndex < this.tree.firstElementChild.idx) {\n          this.navIndex = this.tree.firstElementChild.idx;\n          break;\n        }\n      }\n\n      a = b.rect(this.items[this.navIndex]);\n      d ? (0 === this.navIndex ? this.tree.scrollTop = 0 : a.top + a.height > this.optsRect.top + this.optsRect.height && (this.tree.scrollTop += a.top + a.height - (this.optsRect.top + this.optsRect.height)), this.navIndex === this.tree.childElementCount - 1 && this.requiresPagination && r.call(this)) : 0 === this.navIndex ? this.tree.scrollTop = 0 : 0 > a.top - this.optsRect.top && (this.tree.scrollTop += a.top - this.optsRect.top);\n      c && b.removeClass(c, \"active\");\n      b.addClass(this.items[this.navIndex], \"active\");\n    } else this.navigating = !1;\n  },\n      w = function w(a) {\n    var c = this,\n        e = document.createDocumentFragment(),\n        d = this.options[a.idx],\n        f = this.data ? this.data[a.idx] : d;\n    f = this.customSelected ? this.config.renderSelection(f) : d.textContent;\n    f = b.createElement(\"li\", {\n      \"class\": \"selectr-tag\",\n      html: f\n    });\n    var h = b.createElement(\"button\", {\n      \"class\": \"selectr-tag-remove\",\n      type: \"button\"\n    });\n    f.appendChild(h);\n    f.idx = a.idx;\n    f.tag = d.value;\n    this.tags.push(f);\n\n    if (this.config.sortSelected) {\n      a = this.tags.slice();\n\n      var g = function g(a, b) {\n        a.replace(/(\\d+)|(\\D+)/g, function (a, d, c) {\n          b.push([d || Infinity, c || \"\"]);\n        });\n      };\n\n      a.sort(function (a, b) {\n        var d = [],\n            e = [];\n\n        if (!0 === c.config.sortSelected) {\n          var f = a.tag;\n          var h = b.tag;\n        } else \"text\" === c.config.sortSelected && (f = a.textContent, h = b.textContent);\n\n        g(f, d);\n\n        for (g(h, e); d.length && e.length;) {\n          if (f = d.shift(), h = e.shift(), f = f[0] - h[0] || f[1].localeCompare(h[1])) return f;\n        }\n\n        return d.length - e.length;\n      });\n      b.each(a, function (a, b) {\n        e.appendChild(b);\n      });\n      this.label.innerHTML = \"\";\n    } else e.appendChild(f);\n\n    this.config.taggable ? this.label.insertBefore(e, this.input.parentNode) : this.label.appendChild(e);\n  },\n      x = function x(a) {\n    var c = !1;\n    b.each(this.tags, function (b, d) {\n      d.idx === a.idx && (c = d);\n    }, this);\n    c && (this.label.removeChild(c), this.tags.splice(this.tags.indexOf(c), 1));\n  },\n      r = function r() {\n    var a = this.tree;\n\n    if (a.scrollTop >= a.scrollHeight - a.offsetHeight && this.pageIndex < this.pages.length) {\n      var c = document.createDocumentFragment();\n      b.each(this.pages[this.pageIndex], function (a, b) {\n        n(b, c, this.customOption);\n      }, this);\n      a.appendChild(c);\n      this.pageIndex++;\n      this.emit(\"selectr.paginate\", {\n        items: this.items.length,\n        total: this.data.length,\n        page: this.pageIndex,\n        pages: this.pages.length\n      });\n    }\n  },\n      q = function q() {\n    if (this.config.searchable || this.config.taggable) this.input.value = null, this.searching = !1, this.config.searchable && b.removeClass(this.inputContainer, \"active\"), b.hasClass(this.container, \"notice\") && (b.removeClass(this.container, \"notice\"), b.addClass(this.container, \"open\"), this.input.focus()), b.each(this.items, function (a, c) {\n      b.removeClass(c, \"excluded\");\n      this.customOption || (c.innerHTML = c.textContent);\n    }, this);\n  };\n\n  g = function g(a, b) {\n    this.defaultConfig = {\n      defaultSelected: !0,\n      width: \"auto\",\n      disabled: !1,\n      searchable: !0,\n      clearable: !1,\n      sortSelected: !1,\n      allowDeselect: !1,\n      closeOnScroll: !1,\n      nativeDropdown: !1,\n      nativeKeyboard: !1,\n      placeholder: \"Select an option...\",\n      taggable: !1,\n      tagPlaceholder: \"Enter a tag...\",\n      messages: {\n        noResults: \"No results.\",\n        noOptions: \"No options available.\",\n        maxSelections: \"A maximum of {max} items can be selected.\",\n        tagDuplicate: \"That tag is already in use.\"\n      }\n    };\n    if (!a) throw Error(\"You must supply either a HTMLSelectElement or a CSS3 selector string.\");\n    this.el = a;\n    \"string\" === typeof a && (this.el = document.querySelector(a));\n    if (null === this.el) throw Error(\"The element you passed to Selectr can not be found.\");\n    if (\"select\" !== this.el.nodeName.toLowerCase()) throw Error(\"The element you passed to Selectr is not a HTMLSelectElement.\");\n    this.render(b);\n  };\n\n  g.prototype.render = function (a) {\n    if (!this.rendered) {\n      this.el.selectr = this;\n      this.config = b.extend(this.defaultConfig, a);\n      this.originalType = this.el.type;\n      this.originalIndex = this.el.tabIndex;\n      this.defaultSelected = [];\n      this.originalOptionCount = this.el.options.length;\n      if (this.config.multiple || this.config.taggable) this.el.multiple = !0;\n      this.disabled = k(this.config, \"disabled\");\n      this.opened = !1;\n      this.config.taggable && (this.config.searchable = !1);\n      this.mobileDevice = this.navigating = !1;\n      /Android|webOS|iPhone|iPad|BlackBerry|Windows Phone|Opera Mini|IEMobile|Mobile/i.test(navigator.userAgent) && (this.mobileDevice = !0);\n      this.customOption = this.config.hasOwnProperty(\"renderOption\") && \"function\" === typeof this.config.renderOption;\n      this.customSelected = this.config.hasOwnProperty(\"renderSelection\") && \"function\" === typeof this.config.renderSelection;\n      this.supportsEventPassiveOption = this.detectEventPassiveOption();\n      l.mixin(this);\n      u.call(this);\n      this.bindEvents();\n      this.update();\n      this.optsRect = b.rect(this.tree);\n      this.rendered = !0;\n      this.el.multiple || (this.el.selectedIndex = this.selectedIndex);\n      var c = this;\n      setTimeout(function () {\n        c.emit(\"selectr.init\");\n      }, 20);\n    }\n  };\n\n  g.prototype.getSelected = function () {\n    return this.el.querySelectorAll(\"option:checked\");\n  };\n\n  g.prototype.getSelectedProperties = function (a) {\n    var b = this.getSelected();\n    return [].slice.call(b).map(function (b) {\n      return b[a];\n    }).filter(function (a) {\n      return null !== a && void 0 !== a;\n    });\n  };\n\n  g.prototype.detectEventPassiveOption = function () {\n    var a = !1;\n\n    try {\n      var b = Object.defineProperty({}, \"passive\", {\n        get: function get() {\n          a = !0;\n        }\n      });\n      window.addEventListener(\"test\", null, b);\n    } catch (e) {}\n\n    return a;\n  };\n\n  g.prototype.bindEvents = function () {\n    var a = this;\n    this.events = {};\n    this.events.dismiss = t.bind(this);\n    this.events.navigate = v.bind(this);\n    this.events.reset = this.reset.bind(this);\n\n    if (this.config.nativeDropdown || this.mobileDevice) {\n      this.container.addEventListener(\"touchstart\", function (b) {\n        b.changedTouches[0].target === a.el && a.toggle();\n      }, this.supportsEventPassiveOption ? {\n        passive: !0\n      } : !1);\n      this.container.addEventListener(\"click\", function (b) {\n        b.target === a.el && a.toggle();\n      });\n\n      var c = function c(a, b) {\n        for (var d = [], c = a.slice(0), e, f = 0; f < b.length; f++) {\n          e = c.indexOf(b[f]), -1 < e ? c.splice(e, 1) : d.push(b[f]);\n        }\n\n        return [d, c];\n      };\n\n      this.el.addEventListener(\"change\", function (d) {\n        a.el.multiple ? (d = a.getSelectedProperties(\"idx\"), d = c(a.selectedIndexes, d), b.each(d[0], function (b, d) {\n          a.select(d);\n        }, a), b.each(d[1], function (b, d) {\n          a.deselect(d);\n        }, a)) : -1 < a.el.selectedIndex && a.select(a.el.selectedIndex);\n      });\n    }\n\n    this.container.addEventListener(\"keydown\", function (b) {\n      \"Escape\" === b.key && a.close();\n      \"Enter\" === b.key && a.selected === document.activeElement && \"undefined\" !== typeof a.el.form.submit && a.el.form.submit();\n      \" \" !== b.key && \"ArrowUp\" !== b.key && \"ArrowDown\" !== b.key || a.selected !== document.activeElement || (setTimeout(function () {\n        a.toggle();\n      }, 200), a.config.nativeDropdown && setTimeout(function () {\n        a.el.focus();\n      }, 200));\n    });\n    this.selected.addEventListener(\"click\", function (b) {\n      a.disabled || a.toggle();\n      b.preventDefault();\n    });\n\n    if (this.config.nativeKeyboard) {\n      var e = \"\";\n      this.selected.addEventListener(\"keydown\", function (b) {\n        if (!(a.disabled || a.selected !== document.activeElement || b.altKey || b.ctrlKey || b.metaKey)) if (\" \" === b.key || !a.opened && -1 < [\"Enter\", \"ArrowUp\", \"ArrowDown\"].indexOf(b.key)) a.toggle(), b.preventDefault(), b.stopPropagation();else if (2 >= b.key.length && String[String.fromCodePoint ? \"fromCodePoint\" : \"fromCharCode\"](b.key[String.codePointAt ? \"codePointAt\" : \"charCodeAt\"](0)) === b.key) {\n          if (a.config.multiple) a.open(), a.config.searchable && (a.input.value = b.key, a.input.focus(), a.search(null, !0));else {\n            e += b.key;\n            var c = a.search(e, !0);\n            c && c.length && (a.clear(), a.setValue(c[0].value));\n            setTimeout(function () {\n              e = \"\";\n            }, 1E3);\n          }\n          b.preventDefault();\n          b.stopPropagation();\n        }\n      });\n      this.container.addEventListener(\"keyup\", function (b) {\n        a.opened && \"Escape\" === b.key && (a.close(), b.stopPropagation(), a.selected.focus());\n      });\n    }\n\n    this.label.addEventListener(\"click\", function (c) {\n      b.hasClass(c.target, \"selectr-tag-remove\") && a.deselect(c.target.parentNode.idx);\n    });\n    this.selectClear && this.selectClear.addEventListener(\"click\", this.clear.bind(this));\n    this.tree.addEventListener(\"mousedown\", function (a) {\n      a.preventDefault();\n    });\n    this.tree.addEventListener(\"click\", function (c) {\n      var d = b.closest(c.target, function (a) {\n        return a && b.hasClass(a, \"selectr-option\");\n      });\n      d && !b.hasClass(d, \"disabled\") && (b.hasClass(d, \"selected\") ? (a.el.multiple || !a.el.multiple && a.config.allowDeselect) && a.deselect(d.idx) : a.select(d.idx), a.opened && !a.el.multiple && a.close());\n      c.preventDefault();\n      c.stopPropagation();\n    });\n    this.tree.addEventListener(\"mouseover\", function (c) {\n      b.hasClass(c.target, \"selectr-option\") && !b.hasClass(c.target, \"disabled\") && (b.removeClass(a.items[a.navIndex], \"active\"), b.addClass(c.target, \"active\"), a.navIndex = [].slice.call(a.items).indexOf(c.target));\n    });\n    this.config.searchable && (this.input.addEventListener(\"focus\", function (b) {\n      a.searching = !0;\n    }), this.input.addEventListener(\"blur\", function (b) {\n      a.searching = !1;\n    }), this.input.addEventListener(\"keyup\", function (c) {\n      a.search();\n      a.config.taggable || (this.value.length ? b.addClass(this.parentNode, \"active\") : b.removeClass(this.parentNode, \"active\"));\n    }), this.inputClear.addEventListener(\"click\", function (b) {\n      a.input.value = null;\n      q.call(a);\n      a.tree.childElementCount || p.call(a);\n    }));\n    this.config.taggable && this.input.addEventListener(\"keyup\", function (c) {\n      a.search();\n\n      if (a.config.taggable && this.value.length) {\n        var d = this.value.trim();\n        if (13 === c.which || b.includes(a.tagSeperators, c.key)) b.each(a.tagSeperators, function (a, b) {\n          d = d.replace(b, \"\");\n        }), a.add({\n          value: d,\n          text: d,\n          selected: !0\n        }, !0) ? (a.close(), q.call(a)) : (this.value = \"\", a.setMessage(a.config.messages.tagDuplicate));\n      }\n    });\n    this.update = b.debounce(function () {\n      a.opened && a.config.closeOnScroll && a.close();\n      a.width && (a.container.style.width = a.width);\n      a.invert();\n    }, 50);\n    this.requiresPagination && (this.paginateItems = b.debounce(function () {\n      r.call(this);\n    }, 50), this.tree.addEventListener(\"scroll\", this.paginateItems.bind(this)));\n    document.addEventListener(\"click\", this.events.dismiss);\n    window.addEventListener(\"keydown\", this.events.navigate);\n    window.addEventListener(\"resize\", this.update);\n    window.addEventListener(\"scroll\", this.update);\n    this.on(\"selectr.destroy\", function () {\n      document.removeEventListener(\"click\", this.events.dismiss);\n      window.removeEventListener(\"keydown\", this.events.navigate);\n      window.removeEventListener(\"resize\", this.update);\n      window.removeEventListener(\"scroll\", this.update);\n    });\n    this.el.form && (this.el.form.addEventListener(\"reset\", this.events.reset), this.on(\"selectr.destroy\", function () {\n      this.el.form.removeEventListener(\"reset\", this.events.reset);\n    }));\n  };\n\n  g.prototype.setSelected = function (a) {\n    this.config.data || this.el.multiple || !this.el.options.length || (0 !== this.el.selectedIndex || this.el.options[0].defaultSelected || this.config.defaultSelected || (this.el.selectedIndex = -1), this.selectedIndex = this.el.selectedIndex, -1 < this.selectedIndex && this.select(this.selectedIndex));\n    this.config.multiple && \"select-one\" === this.originalType && !this.config.data && this.el.options[0].selected && !this.el.options[0].defaultSelected && (this.el.options[0].selected = !1);\n    b.each(this.options, function (a, b) {\n      b.selected && b.defaultSelected && this.select(b.idx);\n    }, this);\n    this.config.selectedValue && this.setValue(this.config.selectedValue);\n\n    if (this.config.data) {\n      !this.el.multiple && this.config.defaultSelected && 0 > this.el.selectedIndex && this.select(0);\n      var c = 0;\n      b.each(this.config.data, function (a, d) {\n        k(d, \"children\") ? b.each(d.children, function (a, b) {\n          b.hasOwnProperty(\"selected\") && !0 === b.selected && this.select(c);\n          c++;\n        }, this) : (d.hasOwnProperty(\"selected\") && !0 === d.selected && this.select(c), c++);\n      }, this);\n    }\n  };\n\n  g.prototype.destroy = function () {\n    this.rendered && (this.emit(\"selectr.destroy\"), \"select-one\" === this.originalType && (this.el.multiple = !1), this.config.data && (this.el.innerHTML = \"\"), b.removeClass(this.el, \"selectr-hidden\"), this.container.parentNode.replaceChild(this.el, this.container), this.rendered = !1, delete this.el.selectr);\n  };\n\n  g.prototype.change = function (a) {\n    var c = this.items[a],\n        e = this.options[a];\n    e.disabled || (e.selected && b.hasClass(c, \"selected\") ? this.deselect(a) : this.select(a), this.opened && !this.el.multiple && this.close());\n  };\n\n  g.prototype.select = function (a) {\n    var c = this.items[a],\n        e = [].slice.call(this.el.options),\n        d = this.options[a];\n\n    if (this.el.multiple) {\n      if (b.includes(this.selectedIndexes, a)) return !1;\n      if (this.config.maxSelections && this.tags.length === this.config.maxSelections) return this.setMessage(this.config.messages.maxSelections.replace(\"{max}\", this.config.maxSelections), !0), !1;\n      this.selectedValues.push(d.value);\n      this.selectedIndexes.push(a);\n      w.call(this, c);\n    } else {\n      var f = this.data ? this.data[a] : d;\n      this.label.innerHTML = this.customSelected ? this.config.renderSelection(f) : d.textContent;\n      this.selectedValue = d.value;\n      this.selectedIndex = a;\n      b.each(this.options, function (c, d) {\n        var e = this.items[c];\n        c !== a && (e && b.removeClass(e, \"selected\"), d.selected = !1, d.removeAttribute(\"selected\"));\n      }, this);\n    }\n\n    b.includes(e, d) || this.el.add(d);\n    c.setAttribute(\"aria-selected\", !0);\n    b.addClass(c, \"selected\");\n    b.addClass(this.container, \"has-selected\");\n    d.selected = !0;\n    d.setAttribute(\"selected\", \"\");\n    this.emit(\"selectr.change\", d);\n    this.emit(\"selectr.select\", d);\n    \"createEvent\" in document ? (c = document.createEvent(\"HTMLEvents\"), c.initEvent(\"change\", !0, !0), this.el.dispatchEvent(c)) : this.el.fireEvent(\"onchange\");\n  };\n\n  g.prototype.deselect = function (a, c) {\n    var e = this.items[a],\n        d = this.options[a];\n\n    if (this.el.multiple) {\n      var f = this.selectedIndexes.indexOf(a);\n      this.selectedIndexes.splice(f, 1);\n      f = this.selectedValues.indexOf(d.value);\n      this.selectedValues.splice(f, 1);\n      x.call(this, e);\n      this.tags.length || b.removeClass(this.container, \"has-selected\");\n    } else {\n      if (!c && !this.config.clearable && !this.config.allowDeselect) return !1;\n      this.label.innerHTML = \"\";\n      this.selectedValue = null;\n      this.el.selectedIndex = this.selectedIndex = -1;\n      b.removeClass(this.container, \"has-selected\");\n    }\n\n    this.items[a].setAttribute(\"aria-selected\", !1);\n    b.removeClass(this.items[a], \"selected\");\n    d.selected = !1;\n    d.removeAttribute(\"selected\");\n    this.emit(\"selectr.change\", null);\n    this.emit(\"selectr.deselect\", d);\n    \"createEvent\" in document ? (e = document.createEvent(\"HTMLEvents\"), e.initEvent(\"change\", !0, !0), this.el.dispatchEvent(e)) : this.el.fireEvent(\"onchange\");\n  };\n\n  g.prototype.setValue = function (a) {\n    var c = Array.isArray(a);\n    c || (a = a.toString().trim());\n    if (!this.el.multiple && c) return !1;\n    b.each(this.options, function (b, d) {\n      (c && -1 < a.indexOf(d.value) || d.value === a) && this.change(d.idx);\n    }, this);\n  };\n\n  g.prototype.getValue = function (a, c) {\n    if (this.el.multiple) {\n      if (a) {\n        if (this.selectedIndexes.length) {\n          var e = {\n            values: []\n          };\n          b.each(this.selectedIndexes, function (a, b) {\n            var c = this.options[b];\n            e.values[a] = {\n              value: c.value,\n              text: c.textContent\n            };\n          }, this);\n        }\n      } else e = this.selectedValues.slice();\n    } else if (a) {\n      var d = this.options[this.selectedIndex];\n      e = {\n        value: d.value,\n        text: d.textContent\n      };\n    } else e = this.selectedValue;\n    a && c && (e = JSON.stringify(e));\n    return e;\n  };\n\n  g.prototype.add = function (a, c) {\n    if (a) {\n      this.data = this.data || [];\n      this.items = this.items || [];\n      this.options = this.options || [];\n      if (Array.isArray(a)) b.each(a, function (a, b) {\n        this.add(b, c);\n      }, this);else if (\"[object Object]\" === Object.prototype.toString.call(a)) {\n        if (c) {\n          var e = !1;\n          b.each(this.options, function (b, c) {\n            c.value.toLowerCase() === a.value.toLowerCase() && (e = !0);\n          });\n          if (e) return !1;\n        }\n\n        var d = b.createElement(\"option\", a);\n        this.data.push(a);\n        this.options.push(d);\n        d.idx = 0 < this.options.length ? this.options.length - 1 : 0;\n        m.call(this, d);\n        a.selected && this.select(d.idx);\n        this.setPlaceholder();\n        return d;\n      }\n      this.config.pagination && this.paginate();\n      return !0;\n    }\n  };\n\n  g.prototype.remove = function (a) {\n    var c = [];\n    Array.isArray(a) ? b.each(a, function (a, e) {\n      b.isInt(e) ? c.push(this.getOptionByIndex(e)) : \"string\" === typeof e && c.push(this.getOptionByValue(e));\n    }, this) : b.isInt(a) ? c.push(this.getOptionByIndex(a)) : \"string\" === typeof a && c.push(this.getOptionByValue(a));\n\n    if (c.length) {\n      var e;\n      b.each(c, function (a, c) {\n        e = c.idx;\n        this.el.remove(c);\n        this.options.splice(e, 1);\n        var d = this.items[e].parentNode;\n        d && d.removeChild(this.items[e]);\n        this.items.splice(e, 1);\n        b.each(this.options, function (a, b) {\n          b.idx = a;\n          this.items[a].idx = a;\n        }, this);\n      }, this);\n      this.setPlaceholder();\n      this.config.pagination && this.paginate();\n    }\n  };\n\n  g.prototype.removeAll = function () {\n    this.clear(!0);\n    b.each(this.el.options, function (a, b) {\n      this.el.remove(b);\n    }, this);\n    b.truncate(this.tree);\n    this.items = [];\n    this.options = [];\n    this.data = [];\n    this.navIndex = 0;\n    this.requiresPagination && (this.requiresPagination = !1, this.pageIndex = 1, this.pages = []);\n    this.setPlaceholder();\n  };\n\n  g.prototype.search = function (a, c) {\n    if (!this.navigating) {\n      var e = !1;\n      a || (a = this.input.value, e = !0, this.removeMessage(), b.truncate(this.tree));\n      var d = [],\n          f = document.createDocumentFragment();\n      a = a.trim().toLowerCase();\n\n      if (0 < a.length) {\n        var g = c ? b.startsWith : b.includes;\n        b.each(this.options, function (c, h) {\n          var k = this.items[h.idx];\n\n          if (g(h.textContent.trim().toLowerCase(), a) && !h.disabled) {\n            if (d.push({\n              text: h.textContent,\n              value: h.value\n            }), e && (n(k, f, this.customOption), b.removeClass(k, \"excluded\"), !this.customOption)) {\n              var l = (l = new RegExp(a, \"i\").exec(h.textContent)) ? h.textContent.replace(l[0], \"<span class='selectr-match'>\" + l[0] + \"</span>\") : !1;\n              k.innerHTML = l;\n            }\n          } else e && b.addClass(k, \"excluded\");\n        }, this);\n\n        if (e) {\n          if (f.childElementCount) {\n            var k = this.items[this.navIndex],\n                l = f.querySelector(\".selectr-option:not(.excluded)\");\n            this.noResults = !1;\n            b.removeClass(k, \"active\");\n            this.navIndex = l.idx;\n            b.addClass(l, \"active\");\n          } else this.config.taggable || (this.noResults = !0, this.setMessage(this.config.messages.noResults));\n\n          this.tree.appendChild(f);\n        }\n      } else p.call(this);\n\n      return d;\n    }\n  };\n\n  g.prototype.toggle = function () {\n    this.disabled || (this.opened ? this.close() : this.open());\n  };\n\n  g.prototype.open = function () {\n    var a = this;\n    if (!this.options.length) return !1;\n    this.opened || this.emit(\"selectr.open\");\n    this.opened = !0;\n    this.mobileDevice || this.config.nativeDropdown ? (b.addClass(this.container, \"native-open\"), this.config.data && b.each(this.options, function (a, b) {\n      this.el.add(b);\n    }, this)) : (b.addClass(this.container, \"open\"), p.call(this), this.invert(), this.tree.scrollTop = 0, b.removeClass(this.container, \"notice\"), this.selected.setAttribute(\"aria-expanded\", !0), this.tree.setAttribute(\"aria-hidden\", !1), this.tree.setAttribute(\"aria-expanded\", !0), this.config.searchable && !this.config.taggable && setTimeout(function () {\n      a.input.focus();\n      a.input.tabIndex = 0;\n    }, 10));\n  };\n\n  g.prototype.close = function () {\n    this.opened && this.emit(\"selectr.close\");\n    this.navigating = this.opened = !1;\n    if (this.mobileDevice || this.config.nativeDropdown) b.removeClass(this.container, \"native-open\");else {\n      var a = b.hasClass(this.container, \"notice\");\n      this.config.searchable && !a && (this.input.blur(), this.input.tabIndex = -1, this.searching = !1);\n      a && (b.removeClass(this.container, \"notice\"), this.notice.textContent = \"\");\n      b.removeClass(this.container, \"open\");\n      b.removeClass(this.container, \"native-open\");\n      this.selected.setAttribute(\"aria-expanded\", !1);\n      this.tree.setAttribute(\"aria-hidden\", !0);\n      this.tree.setAttribute(\"aria-expanded\", !1);\n      b.truncate(this.tree);\n      q.call(this);\n      this.selected.focus();\n    }\n  };\n\n  g.prototype.enable = function () {\n    this.disabled = !1;\n    this.el.disabled = !1;\n    this.selected.tabIndex = this.originalIndex;\n    this.el.multiple && b.each(this.tags, function (a, b) {\n      b.lastElementChild.tabIndex = 0;\n    });\n    b.removeClass(this.container, \"selectr-disabled\");\n  };\n\n  g.prototype.disable = function (a) {\n    a || (this.el.disabled = !0);\n    this.selected.tabIndex = -1;\n    this.el.multiple && b.each(this.tags, function (a, b) {\n      b.lastElementChild.tabIndex = -1;\n    });\n    this.disabled = !0;\n    b.addClass(this.container, \"selectr-disabled\");\n  };\n\n  g.prototype.reset = function () {\n    this.disabled || (this.clear(), this.setSelected(!0), b.each(this.defaultSelected, function (a, b) {\n      this.select(b);\n    }, this), this.emit(\"selectr.reset\"));\n  };\n\n  g.prototype.clear = function (a) {\n    this.el.multiple ? this.selectedIndexes.length && (a = this.selectedIndexes.slice(), b.each(a, function (a, b) {\n      this.deselect(b);\n    }, this)) : -1 < this.selectedIndex && this.deselect(this.selectedIndex, a);\n    this.emit(\"selectr.clear\");\n  };\n\n  g.prototype.serialise = function (a) {\n    var c = [];\n    b.each(this.options, function (a, b) {\n      var d = {\n        value: b.value,\n        text: b.textContent\n      };\n      b.selected && (d.selected = !0);\n      b.disabled && (d.disabled = !0);\n      c[a] = d;\n    });\n    return a ? JSON.stringify(c) : c;\n  };\n\n  g.prototype.serialize = function (a) {\n    return this.serialise(a);\n  };\n\n  g.prototype.setPlaceholder = function (a) {\n    a = a || this.config.placeholder || this.el.getAttribute(\"placeholder\");\n    this.options.length || (a = this.config.messages.noOptions);\n    this.placeEl.innerHTML = a;\n  };\n\n  g.prototype.paginate = function () {\n    if (this.items.length) {\n      var a = this;\n      return this.pages = this.items.map(function (b, e) {\n        return 0 === e % a.config.pagination ? a.items.slice(e, e + a.config.pagination) : null;\n      }).filter(function (a) {\n        return a;\n      });\n    }\n  };\n\n  g.prototype.setMessage = function (a, c) {\n    c && this.close();\n    b.addClass(this.container, \"notice\");\n    this.notice.textContent = a;\n  };\n\n  g.prototype.removeMessage = function () {\n    b.removeClass(this.container, \"notice\");\n    this.notice.innerHTML = \"\";\n  };\n\n  g.prototype.invert = function () {\n    var a = b.rect(this.selected);\n    a.top + a.height + this.tree.parentNode.offsetHeight > window.innerHeight ? (b.addClass(this.container, \"inverted\"), this.isInverted = !0) : (b.removeClass(this.container, \"inverted\"), this.isInverted = !1);\n    this.optsRect = b.rect(this.tree);\n  };\n\n  g.prototype.getOptionByIndex = function (a) {\n    return this.options[a];\n  };\n\n  g.prototype.getOptionByValue = function (a) {\n    for (var b = !1, e = 0, d = this.options.length; e < d; e++) {\n      if (this.options[e].value.trim() === a.toString().trim()) {\n        b = this.options[e];\n        break;\n      }\n    }\n\n    return b;\n  };\n\n  return g;\n});","map":null,"metadata":{},"sourceType":"script"}